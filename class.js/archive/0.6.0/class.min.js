/**
 * Javascript Class Helper
 * @author Tom Flidr | tomflidr(at)gmail(dot)com
 * @version 0.6
 * @date 2015-07-31
 * @usage
 *	var ClassName = $class({
 *		$extends: ParentClassName,
 *		$static: {
 *			staticMethod: function () {
 *				this.$base('parentStaticMethod', param1, param2);
 *			}
 *		},
 *		$constructor: function () {
 *			this.$base('$constructor', param1, param2);
 *		},
 *		$dynamic: {
 *			dynamicMethod: function () {
 *				this.$base('parentDynamicMethod', param1, param2);
 *			}
 *		}
 *	});
 */
$class=function(){function a(b){function d(){var b=Array.prototype.slice.apply(arguments);this[c.u]=a.J();this[c.f].apply(this,b);return this}var c=a.a;a.I(b);a.O(d,b);"function"!=typeof b[c.f]&&(b[c.f]=a.K);d.prototype[c.f]=b[c.f];d[c.g]=a.H();d.prototype[c.j]=a.F;d[c.j]=a.G;d[c.h]=d;return d.prototype[c.h]=d}a.I=function(b){var d=a.a,c=d.i,e=d.v,d=d.s;b[c]=b[c]||function(){};b[e]=b[e]||{};b[d]=b[d]||{};b[e][c]=b[c]};a.O=function(b,d){var c=a.a,e=c.i,f=c.v,c=c.s,g;for(g in d[f])b[g]=d[f][g];for(var h in d[c])a.o(h)||
(b.prototype[h]=d[c][h]);for(g in d[e])"undefined"!=typeof b[g]||a.o(g)||(b[g]=d[e][g]);for(h in d[e].prototype)"undefined"!=typeof b.prototype[h]||a.o(h)||(b.prototype[h]=d[e].prototype[h])};a.a={g:"$classFingerPrint",u:"$instanceFingerPrint",h:"$class",D:"$instance",i:"$extends",v:"$static",s:"$dynamic",f:"$constructor",j:"$base"};a.C={};for(var l in a.a)a.C[a.a[l]]=!0;a.A=[{},{}];a.l=0;a.m=0;a.K=function(){var b=a.a;this[b.j](b.f)};a.F=function(){return a.w.call(this,0,[].slice.apply(arguments))};
a.G=function(){return a.w.call(this,1,[].slice.apply(arguments))};a.w=function(b,d){var c,e=a.a;c=d.shift();var f="",f=0===b?this[e.u]:this[e.g],e=a.N(b,this[e.h],f),e=a.L(0===b?e.prototype:e,c);if(!e.c)throw Error("No parent method: '"+c+"'.");if("function"!=typeof e.b)throw Error("'"+c+"' is not function.");c=e.b.apply(this,d);a.A[b][f]=[];return c};a.N=function(b,d,c){function e(){}var f=a.a,g=a.A[b];b=[];var h=!1,k="";"undefined"==typeof g[c]&&(g[c]=[]);b=g[c];for(0===b.length&&b.push(d[f.g]);;){h=
!1;k=d[f.g];c=0;for(g=b.length;c<g;c+=1)if(k==b[c]){h=!0;break}if(h)if("undefined"==typeof d[f.i])break;else d=d[f.i];else{e=d;break}}b.push(e[f.g]);return e};a.H=function(){var b=a.a.h+a.l;a.l+=1;return b};a.J=function(){var b=a.a.D+a.m;a.m+=1;return b};a.L=function(b,d){var c={c:!0,b:null},e={c:!0,b:null},f=[];"string"==typeof d&&(f=d.split("."));e=a.B(b);e.c?c=a.M(b,f):c.c=!1;return c};a.B=function(a){var d={c:!0,b:null};"undefined"==typeof a||null===a?d=!1:d.b=a;return d};a.M=function(b,d){for(var c=
[b],e=0,f={c:!0,b:null},g={c:!0,b:null},h=0,k=d.length;h<k;h+=1)c[e+1]=c[e][d[h]],g=a.B(c[e+1]),g.c?f.b=g.b:f.c=!1,e+=1;return f};a.o=function(b){return a.C[b]?!0:!1};return a}();
